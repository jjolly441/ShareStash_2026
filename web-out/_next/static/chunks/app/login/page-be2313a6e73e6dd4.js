(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{412:function(e,t,a){Promise.resolve().then(a.bind(a,6374))},6374:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var r=a(7437),s=a(2265),n=a(9376),l=a(4210),i=a(7648),d=a(4794),u=a(7769),c=a(2208),o=a(5863);function m(){let[e,t]=(0,s.useState)(""),[a,m]=(0,s.useState)(""),[p,f]=(0,s.useState)(!1),[x,h]=(0,s.useState)(""),[b,y]=(0,s.useState)(!1),{login:g}=(0,l.a)(),v=(0,n.useRouter)(),j=async t=>{t.preventDefault(),h(""),y(!0);try{await g(e,a),v.push("/browse")}catch(e){var r;h((null===(r=e.message)||void 0===r?void 0:r.includes("invalid"))?"Invalid email or password":"Login failed. Please try again.")}y(!1)};return(0,r.jsx)("div",{className:"min-h-[80vh] flex items-center justify-center px-4 py-12",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-2xl border-2 border-brand-gold flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(d.Z,{className:"w-8 h-8 text-brand-gold"})}),(0,r.jsx)("h1",{className:"text-3xl font-black text-brand-dark mb-1",children:"Welcome back"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Sign in to your ShareStash account"})]}),(0,r.jsxs)("form",{onSubmit:j,className:"bg-white rounded-2xl p-8 border border-gray-200 shadow-sm space-y-5",children:[x&&(0,r.jsx)("div",{className:"bg-red-50 text-red-600 text-sm font-medium px-4 py-3 rounded-xl border border-red-200",children:x}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-brand-dark mb-1.5",children:"Email"}),(0,r.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-brand-dark focus:outline-none focus:ring-2 focus:ring-brand-gold focus:border-transparent text-sm",placeholder:"you@example.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-semibold text-brand-dark mb-1.5",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:p?"text":"password",value:a,onChange:e=>m(e.target.value),required:!0,className:"w-full px-4 py-3 pr-12 rounded-xl border border-gray-200 bg-gray-50 text-brand-dark focus:outline-none focus:ring-2 focus:ring-brand-gold focus:border-transparent text-sm",placeholder:"Your password"}),(0,r.jsx)("button",{type:"button",onClick:()=>f(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:p?(0,r.jsx)(u.Z,{className:"w-5 h-5"}):(0,r.jsx)(c.Z,{className:"w-5 h-5"})})]})]}),(0,r.jsx)("button",{type:"submit",disabled:b,className:"btn-gold w-full flex items-center justify-center gap-2 disabled:opacity-50",children:b?(0,r.jsx)(o.Z,{className:"w-5 h-5 animate-spin"}):"Sign In"})]}),(0,r.jsxs)("p",{className:"text-center text-sm text-gray-500 mt-6",children:["Don't have an account?"," ",(0,r.jsx)(i.default,{href:"/register",className:"text-brand-blue font-bold hover:underline",children:"Create one"})]})]})})}},4210:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return u},a:function(){return c}});var r=a(7437),s=a(2265),n=a(3301),l=a(5978),i=a(7293);let d=(0,s.createContext)({user:null,firebaseUser:null,loading:!0,login:async()=>{},register:async()=>{},logout:async()=>{}});function u(e){let{children:t}=e,[a,u]=(0,s.useState)(null),[c,o]=(0,s.useState)(null),[m,p]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,n.Aj)(i.I8,async e=>{if(e){o(e);try{let t=(await (0,l.QT)((0,l.JU)(i.db,"users",e.uid))).data();u({id:e.uid,email:e.email||"",displayName:(null==t?void 0:t.displayName)||e.displayName||"",photoURL:(null==t?void 0:t.photoURL)||e.photoURL||void 0,isAdmin:(null==t?void 0:t.isAdmin)||!1})}catch(t){u({id:e.uid,email:e.email||"",displayName:e.displayName||""})}}else u(null),o(null);p(!1)});return()=>e()},[]);let f=async(e,t)=>{await (0,n.e5)(i.I8,e,t)},x=async(e,t,a)=>{let r=await (0,n.Xb)(i.I8,e,t);await (0,l.pl)((0,l.JU)(i.db,"users",r.user.uid),{displayName:a,email:e,createdAt:(0,l.Bt)(),isVerified:!1})},h=async()=>{await (0,n.w7)(i.I8)};return(0,r.jsx)(d.Provider,{value:{user:a,firebaseUser:c,loading:m,login:f,register:x,logout:h},children:t})}let c=()=>(0,s.useContext)(d)},7293:function(e,t,a){"use strict";a.d(t,{I8:function(){return d},db:function(){return u}});var r=a(738),s=a(3301),n=a(5978),l=a(62);let i=0===(0,r.C6)().length?(0,r.ZF)({apiKey:"AIzaSyAiWqGprlFP_Cc1t4_5R-UDJ15Z12fUTGg",authDomain:"peerrentalapp.firebaseapp.com",projectId:"peerrentalapp",storageBucket:"peerrentalapp.firebasestorage.app",messagingSenderId:"562667384657",appId:"1:562667384657:web:305a11c63eb4e515486d70"}):(0,r.C6)()[0],d=(0,s.v0)(i),u=(0,n.ad)(i);(0,l.cF)(i)},7769:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},2208:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5863:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4794:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},7648:function(e,t,a){"use strict";a.d(t,{default:function(){return s.a}});var r=a(2972),s=a.n(r)},9376:function(e,t,a){"use strict";var r=a(5475);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[358,139,250,972,971,117,744],function(){return e(e.s=412)}),_N_E=e.O()}]);