(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[269],{1214:function(e,t,s){Promise.resolve().then(s.bind(s,5496))},5496:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var a=s(7437),r=s(2265),l=s(9376),n=s(5978),i=s(7293),c=s(4210),d=s(7648),o=s(5863),x=s(2660),u=s(9763);let m=(0,u.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);var h=s(3774);let p=(0,u.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),f=(0,u.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var y=s(8906);let g=(0,u.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var b=s(2369),j=s(6595);function N(){var e;let t=(0,l.useRouter)(),{user:s}=(0,c.a)(),[u,N]=(0,r.useState)(null),[v,w]=(0,r.useState)(null),[k,Z]=(0,r.useState)(!0),S=(0,l.useSearchParams)().get("id")||"";async function P(){try{let e=await (0,n.QT)((0,n.JU)(i.db,"items",S));if(e.exists()){let t={id:e.id,...e.data()};N(t);let s=await (0,n.QT)((0,n.JU)(i.db,"users",t.ownerId));s.exists()&&w({id:s.id,...s.data()})}}catch(e){console.error("Error loading item:",e)}Z(!1)}return((0,r.useEffect)(()=>{S&&P()},[S]),k)?(0,a.jsx)("div",{className:"flex items-center justify-center py-32",children:(0,a.jsx)(o.Z,{className:"w-8 h-8 text-brand-gold animate-spin"})}):u?(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)(d.default,{href:"/browse",className:"inline-flex items-center gap-1 text-sm text-gray-500 hover:text-brand-dark mb-6 font-medium",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4"})," Back to Browse"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsx)("div",{className:"aspect-[4/3] bg-gray-100 rounded-2xl overflow-hidden",children:u.image?(0,a.jsx)("img",{src:u.image,alt:u.title,className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-300",children:(0,a.jsx)(m,{className:"w-16 h-16"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs font-bold text-brand-blue bg-blue-50 px-3 py-1 rounded-full",children:u.category}),(0,a.jsx)("h1",{className:"text-3xl font-black text-brand-dark mt-3 mb-2",children:u.title}),(null===(e=u.location)||void 0===e?void 0:e.city)&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 flex items-center gap-1 mb-4",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4"}),u.location.city,", ",u.location.state]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-6 border border-gray-200 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-baseline gap-1 mb-3",children:[(0,a.jsxs)("span",{className:"text-4xl font-black text-brand-gold",children:["$",u.pricePerDay]}),(0,a.jsx)("span",{className:"text-gray-400 font-medium",children:"/day"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[u.pricePerHour&&(0,a.jsxs)("div",{className:"bg-white rounded-xl p-3 text-center border border-gray-100",children:[(0,a.jsx)(p,{className:"w-4 h-4 text-gray-400 mx-auto mb-1"}),(0,a.jsxs)("div",{className:"font-bold text-brand-dark",children:["$",u.pricePerHour]}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"per hour"})]}),u.pricePerWeek&&(0,a.jsxs)("div",{className:"bg-white rounded-xl p-3 text-center border border-gray-100",children:[(0,a.jsx)(m,{className:"w-4 h-4 text-gray-400 mx-auto mb-1"}),(0,a.jsxs)("div",{className:"font-bold text-brand-dark",children:["$",u.pricePerWeek]}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"per week"})]}),u.pricePerMonth&&(0,a.jsxs)("div",{className:"bg-white rounded-xl p-3 text-center border border-gray-100",children:[(0,a.jsx)(f,{className:"w-4 h-4 text-gray-400 mx-auto mb-1"}),(0,a.jsxs)("div",{className:"font-bold text-brand-dark",children:["$",u.pricePerMonth]}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"per month"})]})]}),u.securityDeposit&&(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-3 flex items-center gap-1",children:[(0,a.jsx)(y.Z,{className:"w-3 h-3"})," Security deposit: $",u.securityDeposit]})]}),(null==s?void 0:s.id)!==u.ownerId&&(0,a.jsxs)("button",{onClick:()=>{if(!s){t.push("/login");return}t.push("/book/".concat(u.id))},className:"btn-gold w-full text-lg flex items-center justify-center gap-2 mb-6",children:["Book This Item ",(0,a.jsx)(g,{className:"w-5 h-5"})]}),v&&(0,a.jsxs)(d.default,{href:"/user?id=".concat(v.id),className:"flex items-center gap-3 bg-white rounded-2xl p-4 border border-gray-200 hover:border-brand-gold transition-colors",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:v.photoURL?(0,a.jsx)("img",{src:v.photoURL,alt:v.displayName,className:"w-full h-full object-cover"}):(0,a.jsx)(b.Z,{className:"w-6 h-6 text-gray-400"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-bold text-brand-dark",children:v.displayName}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[v.isVerified&&(0,a.jsxs)("span",{className:"flex items-center gap-0.5 text-brand-green",children:[(0,a.jsx)(y.Z,{className:"w-3 h-3"})," Verified"]}),v.trustScore&&(0,a.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,a.jsx)(j.Z,{className:"w-3 h-3 text-amber-500"})," ",v.trustScore.toFixed(1)]})]})]}),(0,a.jsx)(g,{className:"w-5 h-5 text-gray-300"})]})]})]}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h2",{className:"text-xl font-extrabold text-brand-dark mb-3",children:"Description"}),(0,a.jsx)("p",{className:"text-gray-600 leading-relaxed whitespace-pre-wrap",children:u.description})]}),(0,a.jsxs)("div",{className:"mt-12 bg-brand-dark rounded-2xl p-8 text-center",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Want the full experience?"}),(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:"Download the ShareStash app for messaging, handoff photos, dispute resolution, and more."}),(0,a.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,a.jsx)("a",{href:"https://apps.apple.com",className:"bg-white text-brand-dark font-bold px-5 py-2.5 rounded-xl text-sm hover:bg-gray-100 transition-colors",children:"App Store"}),(0,a.jsx)("a",{href:"https://play.google.com",className:"bg-brand-green text-white font-bold px-5 py-2.5 rounded-xl text-sm hover:bg-green-700 transition-colors",children:"Google Play"})]})]})]}):(0,a.jsxs)("div",{className:"text-center py-32",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-400 mb-4",children:"Item not found"}),(0,a.jsxs)(d.default,{href:"/browse",className:"btn-gold inline-flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4"})," Back to Browse"]})]})}function v(){return(0,a.jsx)(N,{})}function w(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{className:"flex justify-center py-32",children:(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-brand-gold border-t-transparent rounded-full animate-spin"})}),children:(0,a.jsx)(v,{})})}},4210:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return d},a:function(){return o}});var a=s(7437),r=s(2265),l=s(3301),n=s(5978),i=s(7293);let c=(0,r.createContext)({user:null,firebaseUser:null,loading:!0,login:async()=>{},register:async()=>{},logout:async()=>{}});function d(e){let{children:t}=e,[s,d]=(0,r.useState)(null),[o,x]=(0,r.useState)(null),[u,m]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=(0,l.Aj)(i.I8,async e=>{if(e){x(e);try{let t=(await (0,n.QT)((0,n.JU)(i.db,"users",e.uid))).data();d({id:e.uid,email:e.email||"",displayName:(null==t?void 0:t.displayName)||e.displayName||"",photoURL:(null==t?void 0:t.photoURL)||e.photoURL||void 0,isAdmin:(null==t?void 0:t.isAdmin)||!1})}catch(t){d({id:e.uid,email:e.email||"",displayName:e.displayName||""})}}else d(null),x(null);m(!1)});return()=>e()},[]);let h=async(e,t)=>{await (0,l.e5)(i.I8,e,t)},p=async(e,t,s)=>{let a=await (0,l.Xb)(i.I8,e,t);await (0,n.pl)((0,n.JU)(i.db,"users",a.user.uid),{displayName:s,email:e,createdAt:(0,n.Bt)(),isVerified:!1})},f=async()=>{await (0,l.w7)(i.I8)};return(0,a.jsx)(c.Provider,{value:{user:s,firebaseUser:o,loading:u,login:h,register:p,logout:f},children:t})}let o=()=>(0,r.useContext)(c)},7293:function(e,t,s){"use strict";s.d(t,{I8:function(){return c},db:function(){return d}});var a=s(738),r=s(3301),l=s(5978),n=s(62);let i=0===(0,a.C6)().length?(0,a.ZF)({apiKey:"AIzaSyAiWqGprlFP_Cc1t4_5R-UDJ15Z12fUTGg",authDomain:"peerrentalapp.firebaseapp.com",projectId:"peerrentalapp",storageBucket:"peerrentalapp.firebasestorage.app",messagingSenderId:"562667384657",appId:"1:562667384657:web:305a11c63eb4e515486d70"}):(0,a.C6)()[0],c=(0,r.v0)(i),d=(0,l.ad)(i);(0,n.cF)(i)},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5863:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},8906:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},6595:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},2369:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var a=s(2972),r=s.n(a)},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[358,139,250,972,971,117,744],function(){return e(e.s=1214)}),_N_E=e.O()}]);